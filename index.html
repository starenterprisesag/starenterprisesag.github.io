<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>STS Prämienrechner Test</title>
</head>
<body>

<!-- STS Prämienrechner Kundengeldabsicherung -->
<div id="sts-premium-calculator" style="max-width: 500px; padding: 1rem; border: 1px solid #ddd; border-radius: 6px;">
  <h3>Prämienrechner STS Kundengeldabsicherung</h3>
  <p>Bitte geben Sie Ihre Jahresumsätze in CHF ein.</p>

  <div style="margin-bottom: 0.75rem;">
    <label for="retailUmsatz" style="display:block; font-weight:600;">Retail-Umsatz (CHF/Jahr)</label>
    <input type="number" id="retailUmsatz" min="0" step="1" style="width:100%; padding:0.4rem;">
  </div>

  <div style="margin-bottom: 0.75rem;">
    <label for="toUmsatz" style="display:block; font-weight:600;">Tour-Operator-Umsatz (CHF/Jahr)</label>
    <input type="number" id="toUmsatz" min="0" step="1" style="width:100%; padding:0.4rem;">
  </div>

  <div style="margin-bottom: 0.75rem;">
    <label for="bspUmsatz" style="display:block; font-weight:600;">BSP-Umsatz (CHF/Jahr)</label>
    <input type="number" id="bspUmsatz" min="0" step="1" style="width:100%; padding:0.4rem;">
  </div>

  <button id="sts-calc-button" type="button" style="padding:0.5rem 1rem; cursor:pointer;">
    Prämie berechnen
  </button>

  <div id="sts-premium-result" style="margin-top:1rem; font-weight:bold; min-height:1.5rem;"></div>
</div>

<script>
  window.addEventListener('DOMContentLoaded', function () {
    var button = document.getElementById('sts-calc-button');
    var resultEl = document.getElementById('sts-premium-result');

    button.addEventListener('click', function () {
      var retail = parseFloat(document.getElementById('retailUmsatz').value) || 0;
      var to     = parseFloat(document.getElementById('toUmsatz').value) || 0;
      var bsp    = parseFloat(document.getElementById('bspUmsatz').value) || 0;

      if (retail === 0 && to === 0 && bsp === 0) {
        resultEl.textContent = "Bitte geben Sie mindestens einen Umsatz ein.";
        return;
      }

      var stepPremium = 0;

      // 1. Retail-Beitrag (mit Mindestprämie 780)
      if (retail > 0) {
        var retailVar = retail * 0.0005; // 0.05%
        stepPremium += Math.max(780, retailVar);
      }

      // 2. TO-Beitrag (mit Mindestprämie 200)
      if (to > 0) {
        var toVar = to * 0.001; // 0.1%
        stepPremium += Math.max(200, toVar);
      }

      // 3. BSP-Beitrag (mit Mindestprämie 90)
      if (bsp > 0) {
        var bspVar = bsp * 0.0003; // 0.03%
        stepPremium += Math.max(90, bspVar);
      }

      // 4. Gesamt-Mindestprämie (Retail-Basis + TO + BSP)
      var minPremium = 0;
      if (retail > 0 || to > 0 || bsp > 0) {
        minPremium += 780; // Basis-Retail-Mindestprämie
      }
      if (to > 0) {
        minPremium += 200; // TO-Zuschlag
      }
      if (bsp > 0) {
        minPremium += 90;  // BSP-Zuschlag
      }

      var praemie = Math.max(stepPremium, minPremium);
      var praemieGerundet = Math.round(praemie);

      resultEl.textContent =
        "Ihre Jahresprämie beträgt: CHF " +
        praemieGerundet.toLocaleString('de-CH');
    });
  });
</script>


</body>
</html>

